services:
  backend:
    build: .
    container_name: sr-mendes-backend
    restart: always
    ports:
      - "3001:3000"
    environment:
      JWT_SECRET: "sua_chave_secreta"
      ADMIN_USER: "adminbm"
      ADMIN_PASS: "belmasc2026"
    volumes:
      # Caminho CORRIGIDO para proteger a pasta real do banco de dados
      - ./database_data:/app/database
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.srmendes.rule=Host(`api.unvgroup.tech`)"
      - "traefik.http.routers.srmendes.entrypoints=websecure"
      - "traefik.http.routers.srmendes.tls.certresolver=myresolver"
