version: "3.8"

services:
  backend:
    build: .
    container_name: sr-mendes-backend
    restart: always
    ports:
      - "3001:3000"
    environment:
      N8N_API_KEY: "019283"
      JWT_SECRET: "019283"
      ADMIN_USER: "adminmendes"
      ADMIN_PASS: "mendesbarber01"
      DATABASE_URL: "sqlite:///app/database.sqlite"
    volumes:
      - ./database.sqlite:/app/database.sqlite
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.srmendes.rule=Host(`api.unvgroup.tech`)"
      - "traefik.http.routers.srmendes.entrypoints=websecure"
      - "traefik.http.routers.srmendes.tls.certresolver=myresolver"
